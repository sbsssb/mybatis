<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="emp">
	
	<resultMap type="emp" id="empMap">
		<id property="empId" column="emp_id"/>
		<result property="empName" column="emp_name"/>
		<result property="empNo" column="emp_no"/>
		<result property="email" column="email"/>
		<result property="phone" column="phone"/>
		<result property="deptCode" column="dept_code"/>
		<result property="jobCode" column="job_code"/>
		<result property="salLevel" column="sal_level"/>
		<result property="salary" column="salary"/>
		<result property="bonus" column="bonus"/>
		<result property="managerId" column="manager_id"/>
		<result property="hireDate" column="hire_date"/>
		<result property="entDate" column="ent_date"/>
		<result property="EntYn" column="ent_yn"/>
	</resultMap>
	
	<select id="selectEmpAll" resultType="map">
		SELECT * FROM EMPLOYEE
	</select>
	
	<select id="searchEmp" parameterType="map" resultMap="empMap"> 
		SELECT * 
		FROM (SELECT e.*, DECODE(SUBSTR(EMP_NO,8,1),'1','M','2','F') AS GENDER FROM EMPLOYEE e) 
		WHERE 1=1
		<!-- WHERE -->
		<!-- <where -->
		<trim prefix="where" prefixOverrides="AND|OR">
			<if test="keyword != null and keyword != ''">
				AND ${type} LIKE '%'||#{keyword}||'%' 
			</if>
			<if test="gender != null and gender != ''">
				AND GENDER=#{gender}
			</if>
		</trim>
	</select>

</mapper>
